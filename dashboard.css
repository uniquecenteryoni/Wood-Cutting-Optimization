/* Dashboard specific layering on top of existing styles.css without modifying originals */
:root{
  --dash-side-w:260px;
}
body.dash-body{ background:#fff; }
.dash-app{ position:relative; display:flex; width:100%; min-height:calc(100vh - var(--sticky-offset)); }
.dash-loading{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:var(--bg); z-index:2000; }
.dash-loading .spinner{ width:54px; height:54px; border:5px solid #d8d4ce; border-top-color:var(--primary); border-radius:50%; animation:spin 1s linear infinite }
@keyframes spin{ to{ transform:rotate(360deg)} }
.dash-sidebar{ position:fixed; top:var(--sticky-offset); bottom:0; right:0; width:var(--dash-side-w); background:#0b84a5; color:#fff; display:flex; flex-direction:column; box-shadow:-2px 0 6px -2px rgba(0,0,0,.18); overflow:auto }
html[dir="ltr"] .dash-sidebar{ right:auto; left:0; box-shadow:2px 0 6px -2px rgba(0,0,0,.18) }
.dash-side-inner{ flex:1; overflow-y:auto; padding:8px 0 16px }
.dash-side-foot{ padding:12px; border-top:1px solid rgba(255,255,255,.18) }
.dash-sidebar a, .dash-sidebar button{ font:inherit; color:#fff; text-decoration:none; background:none; border:none; cursor:pointer }
.dash-nav{padding:0 0 40px; }
.dash-menu, .dash-menu ul{ list-style:none; margin:0; padding:0 }
.dash-menu > .group{ margin:2px 0; }
.dash-menu.flat{ padding:8px 0 }
.dash-menu.flat > li > a.item{ display:block; padding:10px 20px; font-size:14px; color:#fff; border-right:3px solid transparent; text-decoration:none; transition:background .15s, border-color .2s }
html[dir="ltr"] .dash-menu.flat > li > a.item{ border-right:none; border-left:3px solid transparent }
.dash-menu.flat > li > a.item:hover{ background:rgba(255,255,255,.08) }
.dash-menu.flat > li > a.item.active{ background:rgba(255,255,255,.14); border-color:#fff }
.dash-menu.flat .dash-sep{ margin:10px 12px; height:1px; background:rgba(255,255,255,.25); list-style:none }
.dash-menu > .group > .group-head{ font-weight:600; padding:10px 18px 6px; font-size:13px; text-transform:uppercase; letter-spacing:.5px; opacity:.9 }
.dash-menu .sub .item{ display:block; padding:6px 32px; font-size:14px; border-right:3px solid transparent; transition:background .15s, border-color .2s }
html[dir="ltr"] .dash-menu .sub .item{ border-right:none; border-left:3px solid transparent }
.dash-menu .sub .item:hover{ background:rgba(255,255,255,.08) }
.dash-menu .sub .item.active, .dash-menu .sub .item[aria-current="page"]{ background:rgba(255,255,255,.14); border-color:#fff }
.dash-main{ margin-right:var(--dash-side-w); padding:24px clamp(16px,4vw,64px); background:#f8f9fb; flex:1; min-height:calc(100vh - var(--sticky-offset)); }
/* Extra spacing below global header */
.dash-main{padding-top:48px;}
html[dir="ltr"] .dash-main{ margin-right:0; margin-left:var(--dash-side-w); }
.dash-main-head{ display:flex; justify-content:space-between; align-items:flex-start; gap:24px; flex-wrap:wrap }
.dash-welcome{ font-size:26px; margin:0 0 12px; font-weight:500; display:flex; flex-wrap:wrap; gap:8px; align-items:center }
#dash-user-name{ color:var(--primary); font-weight:600 }
.dash-user-box{ font-size:14px; color:#555 }
.dash-cards{ display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:18px; margin:0 0 32px }
.dash-card{ background:#fff; border:1px solid var(--border); border-radius:14px; padding:16px 16px 18px; display:flex; flex-direction:column; gap:6px; box-shadow:0 1px 3px rgba(0,0,0,.06) }
.dash-card h3{ margin:0 0 4px; font-size:15px; font-weight:600 }
.dash-card p{ margin:0 0 8px; font-size:13px; color:#555; line-height:1.4 }
.dash-card .actions{ margin-top:auto; display:flex; gap:8px; flex-wrap:wrap }
.dash-card .btn{ background:var(--primary); color:#fff; border-radius:8px; padding:6px 12px; font-size:13px; line-height:1; border:1px solid var(--primary); cursor:pointer }
.dash-card .btn.secondary{ background:#fff; color:var(--primary) }
.dash-view{ background:transparent; border:none; border-radius:0; padding:0; min-height:240px; box-shadow:none }
.sub-full .dash-view{min-height:calc(100vh - var(--sticky-offset));}
/* Keep basic padding on simple empty placeholder text */
.dash-view > .dash-empty{padding:24px;}
.add-row-bar{display:flex;align-items:center;gap:12px;margin:0 0 14px}
.add-row-bar .big-add-btn{background:linear-gradient(#2f81f7,#1f6feb);color:#fff;font-weight:600;font-size:14px;padding:10px 20px;border-radius:10px;border:1px solid #1f6feb;cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,.15)}
.add-row-bar .big-add-btn:hover{filter:brightness(1.05)}
html[data-theme='dark'] .add-row-bar .big-add-btn{background:linear-gradient(#2f81f7,#1b63c4);border-color:#2a74dc}
/* User menu in dashboard header */
.top-actions .user-menu{position:relative;display:inline-flex;align-items:center;font-size:13px}
.user-btn{display:flex;align-items:center;gap:8px;background:#fff;border:1px solid var(--border);padding:6px 12px;border-radius:30px;cursor:pointer;font-size:13px;box-shadow:0 1px 2px rgba(0,0,0,.05)}
.user-btn:hover{background:#f3f5f7}
.avatar{width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background:#2f81f7;color:#fff;font-weight:600;font-size:14px}
.avatar.has-img{padding:0;background:transparent}
.avatar.has-img img{width:100%;height:100%;object-fit:cover;border-radius:50%;display:block}
.user-menu-panel{position:absolute;top:110%;inset-inline-end:0;min-width:200px;background:#fff;border:1px solid var(--border);border-radius:14px;box-shadow:0 8px 24px -6px rgba(0,0,0,.2);padding:6px;display:flex;flex-direction:column;z-index:1000}
.user-menu-panel[data-align="flip"]{inset-inline-end:auto;inset-inline-start:0}
.user-menu-panel.hidden{display:none}
.user-menu-panel .menu-item{background:none;border:none;text-align:start;padding:8px 10px;border-radius:10px;font-size:13px;cursor:pointer;display:flex;gap:6px;align-items:center}
.user-menu-panel .menu-item:hover{background:#f0f4f8}
.user-menu-panel .menu-item.logout{color:#d1242f}
.user-menu-panel .sep{height:1px;background:var(--border);margin:4px 0}
html[data-theme='dark'] .user-btn{background:var(--card-bg);border-color:var(--border);color:var(--text)}
html[data-theme='dark'] .user-btn:hover{background:#2a323b}
html[data-theme='dark'] .user-menu-panel{background:var(--card-bg);border-color:var(--border)}
html[data-theme='dark'] .user-menu-panel .menu-item:hover{background:#303b45}
html[data-theme='dark'] .user-menu-panel .menu-item.logout{color:#ff6b6b}

/* Settings panel styling */
.settings-panel{background:var(--card-bg,#fff);border:1px solid var(--border,#d0d7de);border-radius:18px;box-shadow:0 4px 12px rgba(0,0,0,.06);backdrop-filter:saturate(1.2) blur(4px)}
.settings-panel h2{font-weight:600;letter-spacing:.5px}
.settings-panel .btn-group{display:flex;gap:8px;flex-wrap:wrap}
.settings-panel .mini-btn{border:1px solid var(--border,#d0d7de);background:linear-gradient(#fff,#f6f8fa);padding:8px 14px;border-radius:30px;font-size:13px;cursor:pointer;transition:.18s;box-shadow:0 1px 2px rgba(0,0,0,.04)}
.settings-panel .mini-btn.on{background:linear-gradient(#2f81f7,#1f6feb);color:#fff;border-color:#1f6feb;box-shadow:0 2px 4px rgba(0,0,0,.2) inset,0 2px 6px -2px rgba(0,0,0,.25)}
.settings-panel .mini-btn:not(.on):hover{background:#f0f3f6}
.settings-panel .set-group{position:relative;padding:14px 16px;border:1px solid var(--border,#d0d7de);border-radius:14px;background:var(--panel-bg,#f9fafb)}
.settings-panel .set-group + .set-group{margin-top:14px}
.settings-panel label{font-size:13px;text-transform:uppercase;letter-spacing:.7px;opacity:.75}
.settings-panel .set-group:before{content:"";position:absolute;inset:0;border-radius:inherit;background:linear-gradient(135deg,rgba(255,255,255,.4),rgba(255,255,255,0));pointer-events:none}
.settings-panel p{margin-top:26px}

/* Theme variables */
html[data-theme='light']{--dash-bg:#f5f7fa;--card-bg:#ffffff;--panel-bg:#f5f7fa;--text:#1f2328;--text-dim:#57606a}
html[data-theme='dark']{--dash-bg:#14171c;--card-bg:#1e242b;--panel-bg:#242b33;--text:#f2f5f7;--text-dim:#dde2e6;--border:#39414a}
html[data-theme='dark'] body.dash-body{background:var(--dash-bg);color:var(--text)}
html[data-theme='dark'] .dash-sidebar{background:var(--card-bg);border-color:var(--border)}
html[data-theme='dark'] .dash-nav a.item{color:var(--text-dim)}
html[data-theme='dark'] .dash-nav a.item.active{color:var(--text);background:#1f6feb33}
html[data-theme='dark'] .dash-card{background:var(--card-bg);border-color:var(--border);box-shadow:0 0 0 1px var(--border),0 4px 14px -4px rgba(0,0,0,.5)}
html[data-theme='dark'] .dash-main{background:var(--dash-bg)}
html[data-theme='dark'] .settings-panel{background:linear-gradient(145deg,#212830,#1b2026);border-color:var(--border);box-shadow:0 0 0 1px var(--border),0 10px 30px -8px rgba(0,0,0,.55)}
html[data-theme='dark'] .settings-panel .set-group{background:#252e37;border-color:var(--border)}
html[data-theme='dark'] .settings-panel .mini-btn{background:#2b343d;border-color:var(--border);color:var(--text-dim)}
html[data-theme='dark'] .settings-panel .mini-btn.on{background:#2f81f7;border-color:#3b8bff;color:#fff}
html[data-theme='dark'] .settings-panel .mini-btn:not(.on):hover{background:#35414c;color:var(--text)}
html[data-theme='dark'] .dash-view{color:var(--text)}
html[data-theme='dark'] .dash-nav .dash-sep{border-color:#30363d}
html[data-theme='dark'] .dash-side-foot .btn{background:#238636;border-color:#2ea043;color:#fff}
.dash-empty{ font-size:14px; color:#666 }
/* Inventory table area stretch */
#dash-db-area{min-height:calc(100vh - 140px);display:flex;flex-direction:column}
#dash-db-area #db-table-wrap{flex:1;overflow:auto}
/* Tickets (bugs & features) */
.tickets-wrap{max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:24px}
.tickets-head{display:flex;flex-wrap:wrap;gap:12px;align-items:center}
.tickets-head h2{margin:0;font-size:22px;font-weight:600}
.ticket-btns{display:flex;gap:10px;flex-wrap:wrap}
.ticket-btns .btn{background:#2f81f7;color:#fff;border:1px solid #1f6feb;font-size:13px;font-weight:500;padding:8px 18px;border-radius:8px;cursor:pointer}
.ticket-btns .btn.secondary{background:#fff;color:#1f6feb}
.tickets-table{border:1px solid var(--border,#d0d7de);border-radius:6px;background:#fff;overflow:hidden;display:flex;flex-direction:column}
.tickets-table table{width:100%;border-collapse:collapse;font-size:13px}
.tickets-table thead{background:#f3f5f7;font-weight:600}
.tickets-table th, .tickets-table td{padding:10px 12px;border-bottom:1px solid #e3e6e9;text-align:left}
html[dir="rtl"] .tickets-table th, html[dir="rtl"] .tickets-table td{ text-align:right }
.tickets-table tbody tr:hover{background:#f9fbfd}
.badge-status{display:inline-block;padding:4px 8px;border-radius:20px;font-size:11px;font-weight:600;background:#e4e9ee}
.badge-status.open{background:#ffefd5}
.badge-status.closed{background:#d7f5dd}
.ticket-form-modal{position:fixed;inset:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;z-index:3000}
.ticket-form{background:#fff;border:1px solid var(--border,#d0d7de);border-radius:14px;padding:24px;max-width:520px;width:100%;display:flex;flex-direction:column;gap:16px}
.ticket-form h3{margin:0 0 4px;font-size:20px;font-weight:600}
.ticket-form label{font-size:12px;font-weight:600;letter-spacing:.5px;opacity:.8}
.ticket-form input, .ticket-form textarea, .ticket-form select{width:100%;box-sizing:border-box;border:1px solid #ccd2d8;border-radius:8px;padding:10px 12px;font:inherit;font-size:13px;background:#f6f8fa}
.ticket-form textarea{min-height:140px;resize:vertical}
.ticket-form .actions{display:flex;justify-content:flex-end;gap:10px;margin-top:4px}
.ticket-form button{background:#2f81f7;color:#fff;border:1px solid #1f6feb;font-weight:600;font-size:13px;padding:10px 20px;border-radius:8px;cursor:pointer}
.ticket-form button.cancel{background:#fff;color:#1f6feb}
html[data-theme='dark'] .tickets-table{background:var(--card-bg);border-color:var(--border)}
html[data-theme='dark'] .tickets-table thead{background:#2a3036}
html[data-theme='dark'] .ticket-form{background:var(--card-bg);border-color:var(--border)}
html[data-theme='dark'] .ticket-form input, html[data-theme='dark'] .ticket-form textarea, html[data-theme='dark'] .ticket-form select{background:#2a3036;border-color:#3a434b;color:var(--text)}
.badge{ display:inline-block; padding:2px 6px; font-size:11px; background:#eef2f4; border-radius:6px; color:#333 }

/* Import illustration constraints */
.import-illustration{max-width:100%;height:auto;display:block;object-fit:contain;max-height:60vh}
@media(max-width:900px){.import-illustration{max-height:40vh}}

/* Profile & Password panels */
.profile-panel, .password-panel{padding:4px 4px 24px}
/* Redesigned container look to match screenshot: white card with subtle border */
.profile-panel, .password-panel{background:#fff;border:1px solid var(--border,#d0d7de);border-radius:4px;box-shadow:none}
.profile-panel h2, .password-panel h2{font-size:18px;margin:0 0 18px;font-weight:600;letter-spacing:.3px}
.profile-form, .pw-form{margin:0}
/* Wider email field look */
.profile-form .pf-row input{background:#f3f4f6}
/* Avatar upload area */
.avatar-upload{display:flex;align-items:center;gap:16px;margin:0 0 12px}
.avatar-preview{width:72px;height:72px;border-radius:50%;overflow:hidden;position:relative;border:2px solid #e2e5e8;background:#f0f2f4;display:flex;align-items:center;justify-content:center}
.avatar-preview img{width:100%;height:100%;object-fit:cover;display:block}
.avatar-upload .btn-upload{background:#2f81f7;color:#fff;border:1px solid #1f6feb;padding:8px 14px;font-size:13px;border-radius:8px;cursor:pointer}
.avatar-upload .btn-upload:hover{filter:brightness(1.05)}
html[data-theme='dark'] .profile-panel, html[data-theme='dark'] .password-panel{background:var(--card-bg);border-color:var(--border)}
html[data-theme='dark'] .avatar-preview{border-color:#3a434b;background:#2a3036}
.profile-form label, .pw-form label{display:block;font-size:12px;font-weight:600;margin:0 0 4px;letter-spacing:.3px}
.profile-form input, .pw-form input{width:100%;box-sizing:border-box;border:1px solid var(--border,#d0d7de);background:#f3f4f6;padding:10px 12px;border-radius:6px;font:inherit;font-size:13px;transition:border-color .18s,background .18s}
.profile-form input:focus, .pw-form input:focus{outline:2px solid #2f81f7;outline-offset:1px;background:#fff}
.profile-form input[disabled]{opacity:.8;cursor:not-allowed}
.pf-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:18px}
.pf-grid .full{grid-column:1 / -1}
.profile-form .btn, .pw-form .btn{background:#2f81f7;border:1px solid #1f6feb;color:#fff;font-weight:600;border-radius:8px;padding:10px 20px;font-size:13px;cursor:pointer}
.profile-form .btn:hover, .pw-form .btn:hover{filter:brightness(1.06)}
html[data-theme='dark'] .profile-form input, html[data-theme='dark'] .pw-form input{background:#2a3036;border-color:#3a434b;color:var(--text)}
html[data-theme='dark'] .profile-form input:focus, html[data-theme='dark'] .pw-form input:focus{background:#1e242b}

/* Responsive collapse */
@media(max-width:1040px){
  :root{ --dash-side-w:220px }
}
@media(max-width:860px){
  .dash-sidebar{ transform:translateX(100%); transition:transform .3s ease }
  html[dir="ltr"] .dash-sidebar{ transform:translateX(-100%) }
  .dash-sidebar.open{ transform:translateX(0) }
  .dash-main{ margin:0; }
  html[dir="rtl"] .dash-toggle-btn{ right:12px; left:auto }
  html[dir="ltr"] .dash-toggle-btn{ left:12px; right:auto }
  .dash-toggle-btn{ position:fixed; top:calc(var(--sticky-offset) + 8px); z-index:1200; background:var(--primary); color:#fff; width:44px; height:44px; border-radius:12px; display:flex; align-items:center; justify-content:center; border:none; cursor:pointer; box-shadow:0 4px 10px -4px rgba(0,0,0,.25) }
}
